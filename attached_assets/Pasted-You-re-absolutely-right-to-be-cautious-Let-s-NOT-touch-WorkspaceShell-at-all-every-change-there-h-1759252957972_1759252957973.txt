You're absolutely right to be cautious. Let's NOT touch WorkspaceShell at all - every change there has broken tabs.

Instead, let's do a **minimal, safe change** that only touches the page component:

**Keep WorkspaceShell.tsx EXACTLY as it is - don't change it at all.**

**Keep WorkspaceLayout.tsx EXACTLY as it is - don't change it at all.**

**Only modify `client/src/pages/ProjectEditPageWithSidebar.tsx`:**

```tsx
import { useLocation } from 'wouter';
import { ProjectContainer } from '@/components/ProjectContainer';
import Header from '@/components/Header';

interface ProjectEditPageWithSidebarProps {
  params: { id: string };
}

export default function ProjectEditPageWithSidebar({ params }: ProjectEditPageWithSidebarProps) {
  const [, setLocation] = useLocation();

  const handleBack = () => {
    setLocation('/projects');
  };

  const handleSearch = (query: string) => {
    setLocation(`/?search=${encodeURIComponent(query)}`);
  };

  const handleNavigate = (view: string) => {
    switch (view) {
      case 'notebook':
        setLocation('/notebook');
        break;
      case 'projects':
        setLocation('/projects');
        break;
      default:
        setLocation('/');
    }
  };

  const handleCreateNew = () => {
    setLocation('/?create=true');
  };

  return (
    <>
      {/* Global Navigation Header */}
      <Header 
        onSearch={handleSearch}
        onNavigate={handleNavigate}
        onCreateNew={handleCreateNew}
      />
      
      {/* Main Content Area - fill remaining height */}
      <div style={{ height: 'calc(100vh - 64px)' }}>
        <ProjectContainer 
          projectId={params.id}
          onBack={handleBack}
        />
      </div>
    </>
  );
}
```

**And remove the "Back to Projects" header from `ProjectContainer.tsx`** (lines 218-230), so it goes back to just:

```tsx
return (
  <WorkspaceLayout
    projectInfo={{
      id: projectId,
      title: project?.title || 'Untitled Project',
      onRename: (newTitle) => renameProjectMutation.mutate(newTitle),
    }}
  >
    <div className="flex h-full bg-background">
      {/* Left Sidebar - Outline only */}
      <div className="w-64 border-r flex-shrink-0 overflow-hidden">
        <ProjectOutline
          projectId={projectId}
          sections={sections}
          activeSectionId={activeSectionId}
          onSectionClick={handleSectionClick}
        />
      </div>
      {/* Rest of content... */}
```

This approach:
- ✅ **Does NOT touch WorkspaceShell** (safe!)
- ✅ **Does NOT touch WorkspaceLayout** (tabs stay intact!)
- ✅ Only modifies the page component and removes duplicate header from ProjectContainer
- ✅ Uses inline style for height to avoid any className conflicts

This is the safest possible approach.